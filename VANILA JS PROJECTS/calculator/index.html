<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <title>Vanila Calculator</title>
  </head>
  <body>
    <div class="">
      <div class="">
        <h3 class="text-center">
          Vanila Calculator
        </h3>
        <div class="container">
          <div class="row">
            <div class="offset-sm-3 offset-md-3 offset-lg-4">
            </div>
            <div class="col-sm-6 col-md-6 col-lg-4">
              <div class="p-1 border rounded">
                <div class="container">
                  <div class="row align-items-end p-1">
                    <div class="alert alert-primary w-100">
                      <h3 id="currentResult" class="text-right" style="overflow:hidden;height:33px;"> </h3>
                    </div>
                  </div>
                  <div class="row">
                    <div class="p-1 col-6  ">
                      <button type="button"  onclick="clearResult()" class="btn btn-secondary col-12">AC</button>
                    </div>
                    <div class="p-1 col-3  ">
                      <button type="button"  onclick="clearLast()" class="btn btn-secondary col-12">&larr;</button>
                    </div>
                    <div class="col-3 p-1  ">
                      <button type="button" onclick="mathOperationSelect('+')" class="btn btn-info col-12">+</button>
                    </div>
                  </div>

                  <div class="row">
                    <div class="col-3 p-1">
                      <button type="button" onclick="addTocurrentResult('7')" class="btn btn-primary col-12 ">7</button>
                    </div>
                    <div class="col-3 p-1">
                      <button type="button" onclick="addTocurrentResult('8')" class="btn btn-primary col-12 ">8</button>
                    </div>
                    <div class="col-3 p-1">
                      <button type="button" onclick="addTocurrentResult('9')" class="btn btn-primary col-12 ">9</button>
                    </div>
                    <div class="col-3 p-1">
                      <button type="button" onclick="mathOperationSelect('-')" class="btn btn-info col-12">-</button>
                    </div>
                  </div>

                  <div class="row">
                    <div class="col-3 p-1">
                      <button type="button" onclick="addTocurrentResult('4')" class="btn btn-primary col-12 ">4</button>
                    </div>
                    <div class="col-3 p-1">
                      <button type="button" onclick="addTocurrentResult('5')" class="btn btn-primary col-12 ">5</button>
                    </div>
                    <div class="col-3 p-1">
                      <button type="button" onclick="addTocurrentResult('6')" class="btn btn-primary col-12 ">6</button>
                    </div>
                    <div class="col-3 p-1">
                      <button type="button" onclick="mathOperationSelect('*')" class="btn btn-info col-12">&lowast;</button>
                    </div>
                  </div>

                  <div class="row">
                    <div class="col-3 p-1">
                      <button type="button" onclick="addTocurrentResult('1')" class="btn btn-primary col-12">1</button>
                    </div>
                    <div class="col-3 p-1">
                      <button type="button" onclick="addTocurrentResult('2')" class="btn btn-primary col-12">2</button>
                    </div>
                    <div class="col-3 p-1">
                      <button type="button" onclick="addTocurrentResult('3')" class="btn btn-primary col-12">3</button>
                    </div>
                    <div class="col-3 p-1">
                      <button type="button" onclick="mathOperationSelect('/')" class="btn btn-info col-12">&#8758;</button>
                    </div>
                  </div>
                  <div class="row">
                    <div class="col-3 p-1">
                      <button type="button" onclick="addTocurrentResult('0')" class="btn btn-primary col-12">0</button>
                    </div>
                    <div class="col-3 p-1">
                      <button type="button" onclick="addDecimalPoint()" class="btn btn-primary col-12">.</button>
                    </div>
                    <div class="col-6 p-1">
                      <button type="button" onclick="evaluateResult()" class="btn btn-success col-12">=</button>
                    </div>
                  </div>
                </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <script type="text/javascript">
  
      var currentResult = document.getElementById("currentResult"),
          btnArr = document.querySelectorAll(".btn"),
          resultExpresion = '',
          lastElementOfExpresion = '',
          isNumberRegExp = new RegExp('^[0-9]$');

      for(var i =0; i <btnArr.length; i++ ){
        btnArr[i].style.fontSize = "2rem";
      }

      function addTocurrentResult (val) {
        if(val == '.' && currentResult.innerHTML.indexOf('.') > -1){
          currentResult.innerHTML += val;
        }else if(val !== '.'){
          currentResult.innerHTML += val;
        }
      }
      function addDecimalPoint () {
        if(currentResult.innerHTML.indexOf('.') == -1 || isNumberRegExp.test(currentResult.innerHTML[currentResult.innerHTML.length-1]))
          currentResult.innerHTML += ".";
      }
      function mathOperationSelect (operation) {
        if(currentResult.innerHTML !== ' '){
          resultExpresion = currentResult.innerHTML;
          lastElementOfExpresion = resultExpresion.split('')[resultExpresion.length-1];
          if( !isNumberRegExp.test(lastElementOfExpresion) ){
                currentResult.innerHTML = resultExpresion.substring(0,resultExpresion.length-1);
                currentResult.innerHTML += operation;
          }
          else currentResult.innerHTML += operation;
        }
      }

      function evaluateResult () {
        resultExpresion = currentResult.innerHTML;
        lastElementOfExpresion = resultExpresion.split('')[resultExpresion.length-1];
        if(isNumberRegExp.test(lastElementOfExpresion))
          currentResult.innerHTML = eval(currentResult.innerHTML);
      }
      function clearResult () {
        currentResult.innerHTML = "";
      }

      function clearLast () {
        currentResult.innerHTML = currentResult.innerHTML.slice(0, -1);
      }

    </script>

    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
  </body>
</html>
